# 仕様駆動開発に必要なドキュメント一覧

## 📋 現在揃っているもの

✅ **要件定義書**
- `SPC様経理管理システム概要について.docx`
- `MVP要件定義.md`

✅ **業務フロー**
- `SPC経費フロー.mmd` (Mermaid形式)

---

## 🔨 追加で必要なもの

### 1. **API仕様書（最優先）**
**目的**: フロントエンドとバックエンドの契約を定義

**必要な内容**:
- エンドポイント一覧
- リクエスト/レスポンス形式
- エラーハンドリング
- 認証方式
- データバリデーションルール

**推奨形式**: OpenAPI 3.0 (Swagger)
- `api-specification.yaml` または `api-specification.json`

**主要エンドポイント例**:
- `/api/auth/login` - ログイン
- `/api/expense-applications` - 申請一覧・作成
- `/api/expense-applications/{id}` - 申請詳細・更新
- `/api/receipts/upload` - 領収書アップロード
- `/api/receipts/{id}/ocr` - OCR実行
- `/api/admin/applications` - 事務局：申請一覧
- `/api/admin/applications/{id}/approve` - 承認
- `/api/admin/applications/{id}/reject` - 差戻し
- `/api/admin/payments/generate` - 振込データ生成

---

### 2. **データベーススキーマ定義**
**目的**: データ構造を明確化

**必要な内容**:
- ER図（Mermaid形式推奨）
- テーブル定義
  - カラム名、型、制約
  - インデックス
  - 外部キー
- 初期データ（マスタデータ）

**推奨形式**:
- `database-schema.md` - テキスト定義
- `database-schema.mmd` - ER図（Mermaid）
- `migrations/` - マイグレーションファイル（実装時）

**主要テーブル**:
- `members` - 会員
- `departments` - 部門
- `expense_applications` - 経費申請
- `receipts` - 領収書
- `internal_categories` - 社内カテゴリ
- `payments` - 振込情報
- `application_comments` - コメント履歴

---

### 3. **画面設計書**
**目的**: UI/UXの仕様を明確化

**必要な内容**:
- 画面遷移図
- ワイヤーフレーム（各画面のレイアウト）
- UIコンポーネント一覧
- バリデーションルール
- エラーメッセージ定義

**推奨形式**:
- `ui-specification.md` - 画面仕様書
- `wireframes/` - ワイヤーフレーム画像
- `screen-transition.mmd` - 画面遷移図（Mermaid）

**対象画面（MVP）**:
- SCR-001: ログイン
- SCR-002: マイページ
- SCR-003: 申請一覧（会員）
- SCR-004: 申請登録／編集
- SCR-005: 申請詳細（会員）
- SCR-010: 申請一覧（事務局）
- SCR-011: 申請詳細／承認
- SCR-013: 振込データ出力

---

### 4. **テスト仕様書**
**目的**: 品質保証の基準を定義

**必要な内容**:
- テストケース一覧
- ユニットテスト仕様
- 統合テスト仕様
- E2Eテスト仕様
- パフォーマンステスト要件

**推奨形式**:
- `test-specification.md` - テスト仕様書
- `test-cases/` - 詳細テストケース

**テストカテゴリ**:
- 機能テスト（各機能の正常系・異常系）
- 認証・認可テスト
- OCR精度テスト
- データ整合性テスト
- パフォーマンステスト（3秒以内）

---

### 5. **技術スタック定義**
**目的**: 使用技術を明確化

**必要な内容**:
- フロントエンド技術
- バックエンド技術
- データベース
- OCRサービス/ライブラリ
- 認証方式
- デプロイ環境

**推奨形式**:
- `tech-stack.md` - 技術スタック定義

**決定が必要な項目**:
- フロントエンド: React/Vue/Next.js等
- バックエンド: Node.js/Python/Go等
- データベース: PostgreSQL/MySQL等
- OCR: Google Cloud Vision API/AWS Textract/その他
- 認証: JWT/OAuth2/SPC会員DB連携方式

---

### 6. **外部連携仕様書**
**目的**: 外部システムとの連携を明確化

**必要な内容**:
- SPC会員DB連携仕様
  - API仕様
  - データ同期方式
  - エラーハンドリング
- OCRサービス連携仕様
- 振込データフォーマット仕様

**推奨形式**:
- `external-integration-spec.md` - 外部連携仕様書

---

### 7. **セキュリティ仕様書**
**目的**: セキュリティ要件を明確化

**必要な内容**:
- 認証・認可方式
- データ暗号化
- 通信暗号化（HTTPS必須）
- 個人情報保護
- 監査ログ

**推奨形式**:
- `security-spec.md` - セキュリティ仕様書

---

### 8. **補助金額算出ロジック仕様書**
**目的**: ビジネスロジックを明確化

**必要な内容**:
- 算出ルール
- 計算式
- 例外処理
- テストケース

**推奨形式**:
- `business-logic-spec.md` - ビジネスロジック仕様書

---

## 📊 優先順位

### 🔴 最優先（開発開始前に必須）
1. **API仕様書** - フロントエンド・バックエンドの契約
2. **データベーススキーマ定義** - データ構造の確定
3. **技術スタック定義** - 開発環境の準備

### 🟡 高優先（開発初期に必要）
4. **画面設計書** - UI実装の基準
5. **外部連携仕様書** - SPC会員DB連携の詳細
6. **補助金額算出ロジック仕様書** - コア機能の実装

### 🟢 中優先（開発中に作成）
7. **テスト仕様書** - 品質保証
8. **セキュリティ仕様書** - セキュリティ要件

---

## 🎯 次のステップ

1. **技術スタックを決定** → 開発環境の準備
2. **API仕様書を作成** → フロントエンド・バックエンドの並行開発が可能
3. **データベーススキーマを定義** → データモデルの確定

どのドキュメントから作成を始めますか？
